1) find the change in date

        delta_date = measured_date - install_date

2) get snow data? - I think this is turning a excel sheet into dates wheen it snowed

3) calculate spectral "S_measument" data for the primary mirror

    S_average = mean (1) / max (2) / min (3) / rms (4)
    for "S_spectral" data for PM, witness sample 'clean'

4) find difference between measured "S" and average "S" for each wavelength
   find the coating degredation value
   find standard data of the degredation

    S_delta = S_measured - S_average_mean for each wavelength

    S_degrade = S_delta - S_average for each wavelength

    S_slope = mean (1) / max (2) / min (3) / rms (4) of S_degrade

5) FOR EACH TELESCOPE AND SEGMENT, find the lastest date for each segment position with degredation
   (was only doing this when there was new data added?)
   (I think he was comparing the date verses the segment data he already had based on what was on the telecop e)
   if the coating starting date equaled the save most current date = all values nan (3-8) in tel_current


    if Blue Refelctive values values are Nan, use average values??? (400-490 is blue light)

    if S_Spectral/S_measurement (6) ->>> S_measurment_400-540 T == (is not a number)

        S_telscope_segment_current = S_average_mean + (-1 * S_slope_rms * S_telescope_segment_current)

    else: S_telscope_segment_current = S_measurement + (-1 * S_slope_rms * S_telescope_segment_current)

6) plotting K1 then K@
   

    if tel_current(3)_date is NAN
        use segment install data plotting

    plot estimated reflectiviey values -> tel_current(5, 6, 7, 8)

    plot average reflectance

       mean ( tel_current for 5, 6, 7, 8 )(estimated reflectivity values)

    plot current date

    plot estmiate rate of decay R/year

        -1 * S_Slope_rms(4) * 365 for all wavelength
    
Spectral = reflectivey (acutal recorded data)

---------------------------

** only using "S" data

1) 
    date_delta = measured_date - install_date

3) 
    where sample_status = 'clean'
    where the value is not NULL

    for 400-450, 480-600, 590-720, 900-1100:
        for T, D, S:
            find the mean, max, min, rms 
            (44 total data points)

            Spect_avg / Spectal_slope for each spectrum, TDS
            1: avg.mean
            2: avg.max
            3: avg.min
            4: avg.rms

4) 
    for 400-450, 480-600, 590-720, 900-1100:
        for T, D, S:
            difference = reflectivity - mean     (Spectral_diff  - Spect_avg(1))
            degredation = difference / reflectivity     (Spectral_diff / Spectral)
            (88 total data points)

    for 400-450, 480-600, 590-720, 900-1100:
        for T, D, S:
            slope.mean = mean(degredation)
            slope.min = min(degredation)
            slope.max = max(degredation)
            slope.rms = rms(degredation)

            (44 total data points)
            Spect_avg / Spectal_slope for each spectrum, TDS
            1: mean
            2: max
            3: min
            4: rms

5) 
    ~have a data structure that has all the current segments on K1 and K2 and their respective data~

    for each telescope m :
        for each segment n :
            for a segment position p :
                if new data matches m, n, p but with earlier date:
                (if date_delta >= coating start date?)
                    reset the data structure with all new data and new date
                    if 400-540T is not a number (no data):
                        current_reflectivity = avg.mean + (-1 * slope.rms * current_reflectivity)

                    else:
                        current_reflectivity = avg.mean + (-1 * slope.rms * current_reflectivity)







    










